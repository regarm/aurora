{{#contentFor 'page-req'}}
	<script src="/js/contestEdit.js"></script>
	<!-- <script src="/bower_components/moment/moment.js"></script> -->
	<link rel="stylesheet" type="text/css" href="/bower_components/angular-bootstrap-datetimepicker/src/css/datetimepicker.css">
	<script src="/bower_components/angular-bootstrap-datetimepicker/src/js/datetimepicker.js"></script>
	<script src="/bower_components/angular-bootstrap-datetimepicker/src/js/datetimepicker.templates.js"></script>
{{/contentFor}}
<div ng-cloak ng-init="contestCode='{{contestCode}}'">
	<div ng-controller="ContestEditController">
		<div>
			<ol class="breadcrumb">
			  <li class="breadcrumb-item"><a href="/contest/[[contest.contestCode]]">[[contest.contestCode]]</a></li>
			  <li class="breadcrumb-item">edit</li>
			</ol>
		</div>
		<div class="container">

			<div class="row">
	          <div class="form-group col-md-6">
	          	<div class="input-group">
	              <div class="input-group-addon">
	              	<span>Contest Code</span>
	              </div>
	              <input class="form-control input-xs" type="text" ng-model="contest.contestCode">
	            </div>
	          </div>
	          <div class="col-md-2">
	          	<button class="form-control input-xs" ng-click="updateContestCode.update()">Update Contest Code</button>
	          </div>
	          <div class="col-md-1">
	          	<span class="glyphicon glyphicon-ok-sign" ng-show="updateContestCode.status==='OK'" style="color:green"></span>
	          	<span class="glyphicon glyphicon-remove-sign" ng-show="updateContestCode.status==='!OK'" style="color:red"></span>
	          </div>
	        </div>

	        <div class="row">
	          <div class="form-group col-md-6">
	          	<div class="input-group">
	              <div class="input-group-addon">
	              	<span>Contest Name</span>
	              </div>
	              <input class="form-control input-xs" type="text" ng-model="contest.contestName">
	            </div>
	          </div>
	          <div class="col-md-2">
	          	<button class="form-control input-xs" ng-click="updateContestName.update()">Update Contest Name</button>
	          </div>
	          <div class="col-md-1">
	          	<span class="glyphicon glyphicon-ok-sign" ng-show="updateContestName.status==='OK'" style="color:green"></span>
	          	<span class="glyphicon glyphicon-remove-sign" ng-show="updateContestName.status==='!OK'" style="color:red"></span>
	          </div>
	        </div>

	        <div class="row">
	          <div class="form-group col-md-6">
                <div class="dropdown">
                    <a class="dropdown-toggle" id="dropdown2" role="button" data-toggle="dropdown" data-target="" href="">
                        <div class="input-group">
              				<div class="input-group-addon">Start Time</div>
                            <input type="text" class="form-control" data-ng-model="contest.startTime">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        </div>
                    </a>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                        <datetimepicker data-ng-model="contest.startTime" data-datetimepicker-config="{ dropdownSelector: '#dropdown2' }"></datetimepicker>
                    </ul>
                </div>
	          </div>
	          <div class="col-md-2">
	          	<button class="form-control input-xs" ng-click="updateStartTime.update()">Update Start Time</button>
	          </div>
	          <div class="col-md-1">
	          	<span class="glyphicon glyphicon-ok-sign" ng-show="updateStartTime.status==='OK'" style="color:green"></span>
	          	<span class="glyphicon glyphicon-remove-sign" ng-show="updateStartTime.status==='!OK'" style="color:red"></span>
	          </div>
	        </div>

	        <div class="row">
	          <div class="form-group col-md-6">
	          	<div class="dropdown">
                    <a class="dropdown-toggle" id="dropdown2" role="button" data-toggle="dropdown" data-target="" href="">
                        <div class="input-group">
              				<div class="input-group-addon">End Time</div>
                            <input type="text" class="form-control" data-ng-model="contest.endTime">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        </div>
                    </a>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                        <datetimepicker data-ng-model="contest.endTime" data-datetimepicker-config="{ dropdownSelector: '#dropdown2' }"></datetimepicker>
                    </ul>
                </div>
	          </div>
	          <div class="col-md-2">
	          	<button class="form-control input-xs" ng-click="updateEndTime.update()">Update End Time</button>
	          </div>
	          <div class="col-md-1">
	          	<span class="glyphicon glyphicon-ok-sign" ng-show="updateEndTime.status==='OK'" style="color:green"></span>
	          	<span class="glyphicon glyphicon-remove-sign" ng-show="updateEndTime.status==='!OK'" style="color:red"></span>
	          </div>
	        </div>

	        <div class="row">
	          <div class="form-group col-md-6">
	          	<div class="input-group">
	              <div class="input-group-addon">Problems</div>
	              <div ng-repeat="problem in contest.problems" >
	              	<div class="input-group">
	              		<input class="form-control input-xs" type="text" ng-model="problem.problemCode">
	              		<div class="input-group-addon">
	              			<button ng-click="removeProblem($index)">Remove Problem</button>
	              		</div>
	              	</div>
	              </div>
	            </div>
	            <p class="text-info small">Problem will not be deleted from database but contest will not have reference to problem, though problem will have reference back to contest.</p>
	          </div>
	          <div class="col-md-2">
	          	<button class="form-control input-xs" ng-click="updateProblems.update()">Update Problems</button>
	          </div>
	          <div class="col-md-1">
	          	<span class="glyphicon glyphicon-ok-sign" ng-show="updateProblems.status==='OK'" style="color:green"></span>
	          	<span class="glyphicon glyphicon-remove-sign" ng-show="updateProblems.status==='!OK'" style="color:red"></span>
	          </div>
	        </div>

	        <div class="row">
		        <div class="col-md-2 col-md-offset-2">
		        	<button class="form-control input-xs" class="form-control input-xs" ng-click="updateAll.update()">Update All</button>
		        </div>
		        <div class="col-md-1">
	          	<span class="glyphicon glyphicon-ok-sign" ng-show="updateAll.status==='OK'" style="color:green"></span>
	          	<span class="glyphicon glyphicon-remove-sign" ng-show="updateAll.status==='!OK'" style="color:red"></span>
	          </div>
	        </div>
	        <hr>
	        <div class="row">
	        	<h3>Sync a problem from another contest</h3>
	        	<p class="text-info small">If contest code is same as above then a reference will be added in contest for the problem.</p>
	        	<p class="text-info small">If contest code is different above then new copy will be made of problem and will be referenced in contest.</p>
	        	<div class="form-group col-md-6">
	        		<div class="input-group">
	        			<div class="input-group-addon"><span>Contest Code</span></div>
	        			<input class="form-control input-xs" type="text" ng-model="sync.contestCode" placeholder="Contest code to sync from">
	        		</div>
	        		<br>
	        		<div class="input-group">
	        			<div class="input-group-addon"><span>Problem Code</span></div>
	        			<input class="form-control input-xs" type="text" ng-model="sync.problemCode" placeholder="Problem code of problem to sync here.">
	        		</div>
	        	</div>
	        </div>
		</div>
	</div>
</div>